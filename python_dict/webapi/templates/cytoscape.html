<!doctype html>

<html>

<head>
    <title>cytoscape</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.2.19/cytoscape.js"></script>
</head>

<style>
    #cy {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0px;
        left: 0px;
    }
</style>

<body>
    <div id="cy"></div>
    <script>
      let data_json;
      let parent;
      let children;
      let relationship;
      $.ajax({
        url: '/get/all_graphs',
        type: 'GET',
        dataType: 'json',
      })
      .done(function (data) {
        const data_stringify = JSON.stringify(data);
        data_json = JSON.parse(data_stringify);
        console.log(data_json['parent'][0]);
        parent = data_json['parent']
        children = data_json['children']
        relationship = data_json['relationship']
      })
      .fail(function (data) {
        console.log('error');
      });
      var cy = cytoscape({
        container: document.getElementById('cy'),
        elements: [
          { data: { id: 'a' , ele: data_json } },
          { data: { id: 'b' } },
          { data: { id: 'c' } },
          { data: { id: 'd' } },
          { data: { id: 'e' } },
          { data: { id: 'f' } },
          { data: { id: 'g' } },
          { data: { id: 'h' } },
          { data: { id: 'i' } },
          { data: { id: 'j' } }
          ]
      });
    cy.on('click', 'node', function(evt){
      console.log( 'clicked ' + this.id() + ' ' + this.data('ele'));
    });
    cy.on('tap', 'edge', function(evt){
      console.log( 'clicked ' + this.id() );
      this.remove();
    });
    </script>
</body>
</html>